(window.webpackJsonp = window.webpackJsonp || []).push([[0], {
  24(e, t, n) {
    let r; let a; let i; a = [], void 0 === (i = typeof (r = function () {
      if ('WebSocket' in window) return e.prototype.onopen = function (e) {}, e.prototype.onclose = function (e) {}, e.prototype.onconnecting = function (e) {}, e.prototype.onmessage = function (e) {}, e.prototype.onerror = function (e) {}, e.debugAll = !1, e.CONNECTING = WebSocket.CONNECTING, e.OPEN = WebSocket.OPEN, e.CLOSING = WebSocket.CLOSING, e.CLOSED = WebSocket.CLOSED, e; function e(t, n, r) {
        const a = {
          debug: !1, automaticOpen: !0, reconnectInterval: 1e3, maxReconnectInterval: 3e4, reconnectDecay: 1.5, timeoutInterval: 2e3, maxReconnectAttempts: null, binaryType: 'blob',
        }; for (const i in r || (r = {}), a) typeof r[i] !== 'undefined' ? this[i] = r[i] : this[i] = a[i]; this.url = t, this.reconnectAttempts = 0, this.readyState = WebSocket.CONNECTING, this.protocol = null; let o; const c = this; let l = !1; let u = !1; const s = document.createElement('div'); function d(e, t) { const n = document.createEvent('CustomEvent'); return n.initCustomEvent(e, !1, !1, t), n; }s.addEventListener('open', (e) => { c.onopen(e); }), s.addEventListener('close', (e) => { c.onclose(e); }), s.addEventListener('connecting', (e) => { c.onconnecting(e); }), s.addEventListener('message', (e) => { c.onmessage(e); }), s.addEventListener('error', (e) => { c.onerror(e); }), this.addEventListener = s.addEventListener.bind(s), this.removeEventListener = s.removeEventListener.bind(s), this.dispatchEvent = s.dispatchEvent.bind(s), this.open = function (t) { if ((o = new WebSocket(c.url, n || [])).binaryType = this.binaryType, t) { if (this.maxReconnectAttempts && this.reconnectAttempts > this.maxReconnectAttempts) return; } else s.dispatchEvent(d('connecting')), this.reconnectAttempts = 0; (c.debug || e.debugAll) && console.debug('ReconnectingWebSocket', 'attempt-connect', c.url); const r = o; const a = setTimeout(() => { (c.debug || e.debugAll) && console.debug('ReconnectingWebSocket', 'connection-timeout', c.url), u = !0, r.close(), u = !1; }, c.timeoutInterval); o.onopen = function (n) { clearTimeout(a), (c.debug || e.debugAll) && console.debug('ReconnectingWebSocket', 'onopen', c.url), c.protocol = o.protocol, c.readyState = WebSocket.OPEN, c.reconnectAttempts = 0; const r = d('open'); r.isReconnect = t, t = !1, s.dispatchEvent(r); }, o.onclose = function (n) { if (clearTimeout(a), o = null, l)c.readyState = WebSocket.CLOSED, s.dispatchEvent(d('close')); else { c.readyState = WebSocket.CONNECTING; const r = d('connecting'); r.code = n.code, r.reason = n.reason, r.wasClean = n.wasClean, s.dispatchEvent(r), t || u || ((c.debug || e.debugAll) && console.debug('ReconnectingWebSocket', 'onclose', c.url), s.dispatchEvent(d('close'))); var a = c.reconnectInterval * Math.pow(c.reconnectDecay, c.reconnectAttempts); setTimeout(() => { c.reconnectAttempts++, c.open(!0); }, a > c.maxReconnectInterval ? c.maxReconnectInterval : a); } }, o.onmessage = function (t) { (c.debug || e.debugAll) && console.debug('ReconnectingWebSocket', 'onmessage', c.url, t.data); const n = d('message'); n.data = t.data, s.dispatchEvent(n); }, o.onerror = function (t) { (c.debug || e.debugAll) && console.debug('ReconnectingWebSocket', 'onerror', c.url, t), s.dispatchEvent(d('error')); }; }, this.automaticOpen == 1 && this.open(!1), this.send = function (t) { if (o) return (c.debug || e.debugAll) && console.debug('ReconnectingWebSocket', 'send', c.url, t), o.send(t); throw 'INVALID_STATE_ERR : Pausing to reconnect websocket'; }, this.close = function (e, t) { typeof e === 'undefined' && (e = 1e3), l = !0, o && o.close(e, t); }, this.refresh = function () { o && o.close(); };
      }
    }) === 'function' ? r.apply(t, a) : r) || (e.exports = i);
  },
  27(e, t, n) { e.exports = n(39); },
  39(e, t, n) {
    n.r(t); const r = n(0); const a = n.n(r); const i = n(21); const o = n(13); const c = n(15); const l = n(16); const u = n(10); const s = n(23); const d = n.n(s); const h = 'up'; const p = 'head'; const m = 'tail'; const f = 'body'; function v(e) {
      !(function (e) { e.Turn = e.Turn || 0; let t = !0; let n = !1; let r = void 0; try { for (var a, i = e.Snakes[Symbol.iterator](); !(t = (a = i.next()).done); t = !0) { const o = a.value; let c = !0; let l = !1; let u = void 0; try { for (var s, d = o.Body[Symbol.iterator](); !(c = (s = d.next()).done); c = !0) { const h = s.value; h.X = h.X || 0, h.Y = h.Y || 0; } } catch (y) { l = !0, u = y; } finally { try { c || d.return == null || d.return(); } finally { if (l) throw u; } } } } catch (y) { n = !0, r = y; } finally { try { t || i.return == null || i.return(); } finally { if (n) throw r; } } let p = !0; let m = !1; let f = void 0; try { for (var v, g = e.Food[Symbol.iterator](); !(p = (v = g.next()).done); p = !0) { const b = v.value; b.X = b.X || 0, b.Y = b.Y || 0; } } catch (y) { m = !0, f = y; } finally { try { p || g.return == null || g.return(); } finally { if (m) throw f; } } }(e)); let t; const n = b(e.Snakes); return {
        turn: e.Turn, snakes: n, food: (t = e.Food, t.map(k)), gameOver: x(e),
      };
    } function g(e) { const t = d()(e); for (const n in t.snakes) { const r = t.snakes[n]; r.headSvg = null, r.tailSvg = null, r._id = null; } return t; } function b(e) { return e.map(y); } function y(e) {
      const t = e.Body.filter((t, n) => E(e, n)); return {
        body: e.Body.map((t, n) => (function (e, t) {
          const n = e.Body[t]; const r = (function (e, t) { if (t === 0) return p; if (t === e.Body.length - 1) return m; return f; }(e, t)); const a = k(n); const i = a.x; const o = a.y; const c = (function (e, t, n, r) { let a; if (e === 'head')a = (function (e) { return e.Body.length > 1 ? O(e.Body[1], e.Body[0]) : h; }(t)); else { let i; do { i = t.Body[Math.max(r - 1, 0)], --r; } while (r > 0 && i.X === n.X && i.Y === n.Y);a = O(n, i); } return a; }(r, e, n, t)); const l = !E(e, t) || void 0; return {
            direction: c, type: r, isOverlapped: l, x: i, y: o,
          };
        }(e, n))),
        color: e.Color,
        _id: e.ID,
        name: e.Name,
        effectiveSpace: t.length,
        health: e.Health,
        latency: e.Latency,
        isDead: !!e.Death,
        death: w(e.Death),
        head: e.HeadType && e.HeadType.toLowerCase(),
        tail: e.TailType && e.TailType.toLowerCase(),
        headSvg: e.HeadSvg,
        tailSvg: e.TailSvg,
      };
    } function w(e) { if (e) return { cause: e.Cause, turn: e.Turn || 0 }; } function E(e, t) { const n = e.Body.length - 1; const r = e.Body[0]; const a = e.Body[n]; const i = e.Body[t]; if (t === 0) return !0; if (t === n) return !(r.X === i.X && r.Y === i.Y); const o = e.Body[t - 1]; return !(a.X === i.X && a.Y === i.Y) && !(r.X === i.X && r.Y === i.Y) && !(o && o.X === i.X && o.Y === i.Y); } function k(e) { return { x: e.X, y: e.Y }; } function O(e, t) { return e.X < t.X ? 'right' : t.X < e.X ? 'left' : e.Y < t.Y ? 'down' : 'up'; } function x(e) { const t = b(e.Snakes); return t.length === 0 || (t.length === 1 ? !!t[0].death : (function (e) { return e.filter((e) => !e.death).length <= 1; }(t))); } function j(e) { if (window.parent) try { window.parent.postMessage(e, '*'); } catch (t) { console.error(t); } } function S(e) { const t = e.split('='); return { key: t[0], value: void 0 === t[1] || decodeURIComponent(t[1]) }; } function T(e) { if (!e) return ''; let t = '?'; let n = ''; for (const r in e) { const a = e[r]; n += ''.concat(t).concat(r, '=').concat(a), t = '&'; } return n; } function z(e) { const t = { http: 'ws', https: 'wss' }; for (const n in t) { const r = t[n]; if (e.substr(0, n.length + 1) === `${n}:`) return r + e.substr(n.length); } throw new Error(`Invalid URL: ${e}`); } function C() { for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)t[n] = arguments[n]; return t.reduce((e, t) => (function (e, t) { const n = e.replace(/\/+$/, ''); const r = t.replace(/^\/+/, ''); return n === '' ? r : r === '' ? n : ''.concat(n, '/').concat(r); }(e, t)), ''); } const R = n(4); const L = n(5); const M = n(7); const A = n(6); const P = n(8); const F = n(3); const H = n(1); const _ = (function (e) { function t() { return Object(R.a)(this, t), Object(M.a)(this, Object(A.a)(t).apply(this, arguments)); } return Object(P.a)(t, e), Object(L.a)(t, [{ key: 'render', value() { return a.a.createElement('div', null, 'To run a game you need to specify engine and game parameters in the URL. For example:', a.a.createElement('pre', null, window.location.origin, '?engine=<ENGINE_URL>&game=<GAME_ID>')); } }]), t; }(a.a.Component)); const I = '#f1f1f1'; const G = '#D6D5EA'; const B = '#ff5c75'; const N = '#fefefe'; const D = '#f1f1f1'; const W = '#59526b'; const X = '#efefef'; const V = '#222'; const Y = '#6f42c1'; const U = '#fff'; const K = '#f8f9fa'; const q = '768px'; const J = '992px'; const Q = '1650px'; const $ = 'dark'; const Z = 'light'; const ee = Object(H.a)('div')({
      display: 'flex', alignItems: 'center', justifyContent: 'center', height: '100%', width: '100%',
    }); const te = (function (e) { function t() { return Object(R.a)(this, t), Object(M.a)(this, Object(A.a)(t).apply(this, arguments)); } return Object(P.a)(t, e), Object(L.a)(t, [{ key: 'render', value() { return a.a.createElement(ee, null, a.a.createElement('div', { className: 'la-ball-grid-beat la-dark la-2x', style: { color: B } }, a.a.createElement('div', null), a.a.createElement('div', null), a.a.createElement('div', null), a.a.createElement('div', null), a.a.createElement('div', null), a.a.createElement('div', null), a.a.createElement('div', null), a.a.createElement('div', null), a.a.createElement('div', null))); } }]), t; }(a.a.Component)); const ne = 0.15; const re = 0.1; const ae = 20; const ie = 4; const oe = (ae / 3.25).toFixed(2); const ce = 0.1; const le = ['up', 'right', 'down', 'left']; function ue(e) { return (ae + ie) * e + ie; } function se(e) { const t = e.direction === 'left' || e.direction === 'right' ? 2 * ie : 0; return ae + t; } function de(e) { const t = e.direction === 'up' || e.direction === 'down' ? 2 * ie : 0; return ae + t; } function he(e) { const t = e.direction === 'left' || e.direction === 'right' ? -ie : 0; return ue(e.x) + t; } function pe(e) { const t = e.direction === 'up' || e.direction === 'down' ? -ie : 0; return ue(e.y) + t; } function me(e, t) { return ue(e.x) - ie; } function fe(e, t) { return ue(e.y) - ie; } function ve(e) { switch (e.direction) { case 'left': return ue(e.x + 1) - ie - ce; case 'right': return ue(e.x) - ie - ce; default: return ue(e.x); } } function ge(e) { switch (e.direction) { case 'up': return ue(e.y + 1) - ie - ce; case 'down': return ue(e.y) - ie - ce; default: return ue(e.y); } } function be(e) { return e.direction === 'left' || e.direction === 'right' ? ie + 2 * ce : ae; } function ye(e) { return e.direction === 'left' || e.direction === 'right' ? ae : ie + 2 * ce; } function we(e, t) { if (e.isDead) { if (t) return e._id === t ? 1 : 0; } else if (t) return e._id === t ? 1 : ne; return e.isDead ? re : 1; } function Ee(e) { for (var t = [], n = 0; n < e; n++)t.push(n); return t; } function ke(e, t) { if (t === 0 || t === e.body.length - 1) return !1; let n; let r; const a = e.body[t + 1]; const i = e.body[t]; return (a.x !== i.x || a.y !== i.y) && (n = i.direction, r = a.direction, Math.abs(le.indexOf(n) - le.indexOf(r)) % 2 === 1); } const Oe = (function (e) {
      function t() { return Object(R.a)(this, t), Object(M.a)(this, Object(A.a)(t).apply(this, arguments)); } return Object(P.a)(t, e), Object(L.a)(t, [{ key: 'renderPart', value(e, t, n, r) { if (!(function (e, t) { const n = e.body[e.body.length - 1]; return t.isOverlapped && n.x === t.x && n.y === t.y; }(e, n))) switch (n.type) { case 'head': return this.renderHeadPart(e, t, n); case 'tail': return this.renderTailPart(e, t, n); default: return ke(e, r) ? this.renderCornerPart(e, t, n, r) : this.renderMiddlePart(e, t, n, r); } } }, {
        key: 'renderHeadPart',
        value(e, t, n) {
          const r = (function (e) { switch (e.direction) { case 'left': return ue(e.x) + ce; case 'right': return ue(e.x) - ce; default: return ue(e.x); } }(n)); const i = (function (e) { switch (e.direction) { case 'up': return ue(e.y) + ce; case 'down': return ue(e.y) - ce; default: return ue(e.y); } }(n)); const o = e.headSvg.viewBox.baseVal; const c = (function (e, t) { const n = t.width / 2; const r = t.height / 2; switch (e) { case 'left': return 'scale(-1,1) translate(-100, 0)'; case 'up': return 'rotate(-90 '.concat(n, ' ').concat(r, ')'); case 'down': return 'rotate(90 '.concat(n, ' ').concat(r, ')'); default: return ''; } }(n.direction, o)); const l = ''.concat(o.x, ' ').concat(o.y, ' ').concat(o.width, ' ').concat(o.height); return a.a.createElement('g', { key: `part${t},head` }, a.a.createElement('svg', {
            viewBox: l, x: r, y: i, width: ae, height: ae, fill: e.color, shapeRendering: 'optimizeSpeed',
          }, a.a.createElement('g', { transform: c, dangerouslySetInnerHTML: { __html: e.headSvg.innerHTML } })), e.effectiveSpace > 1 && a.a.createElement('rect', {
            x: ve(n), y: ge(n), width: be(n), height: ye(n), fill: e.color, shapeRendering: 'optimizeSpeed',
          }));
        },
      }, {
        key: 'renderMiddlePart',
        value(e, t, n, r) {
          return a.a.createElement('rect', {
            key: 'part'.concat(t, ',').concat(n.x, ',').concat(n.y), x: he(n), y: pe(n), width: se(n), height: de(n), fill: e.color, ...(n.isOverlapped ? { opacity: 0.3 } : {}), shapeRendering: 'optimizeSpeed',
          });
        },
      }, {
        key: 'renderCornerPart',
        value(e, t, n, r) {
          let i; const o = (function (e, t) { if (t === 0 || t === e.body.length - 1) return !1; const n = e.body[t + 1]; const r = e.body[t]; return ''.concat(r.direction, ' ').concat(n.direction); }(e, r)); switch (o) { case 'down left': case 'right up': i = 'rotate(270, 70, 70)'; break; case 'left down': case 'up right': i = 'rotate(90, 70, 70)'; break; case 'left up': case 'down right': break; case 'right down': case 'up left': i = 'rotate(180, 70, 70)'; } return a.a.createElement('svg', {
            key: 'part'.concat(t, ',').concat(n.x, ',').concat(n.y), x: me(n), y: fe(n), width: ae + 2 * ie, height: ae + 2 * ie, fill: e.color, viewBox: '0 0 140 140', ...(n.isOverlapped ? { opacity: 0.3 } : {}), shapeRendering: 'optimizeSpeed',
          }, a.a.createElement('path', { d: 'M0,20 h60 a60,60 0 0 1 60,60 v60 h-100 v-20 h-20 z', transform: i }));
        },
      }, {
        key: 'renderTailPart',
        value(e, t, n) {
          const r = (function (e) { switch (e.direction) { case 'left': return ue(e.x) - ce; case 'right': return ue(e.x) + ce; default: return ue(e.x); } }(n)); const i = (function (e) { switch (e.direction) { case 'up': return ue(e.y) - ce; case 'down': return ue(e.y) + ce; default: return ue(e.y); } }(n)); const o = e.tailSvg.viewBox.baseVal; const c = (function (e, t) { const n = t.width / 2; const r = t.height / 2; switch (e) { case 'right': return 'rotate(180 '.concat(n, ' ').concat(r, ')'); case 'down': return 'rotate(-90 '.concat(n, ' ').concat(r, ')'); case 'up': return 'rotate(90 '.concat(n, ' ').concat(r, ')'); default: return ''; } }(n.direction, o)); const l = ''.concat(o.x, ' ').concat(o.y, ' ').concat(o.width, ' ').concat(o.height); return a.a.createElement('svg', {
            key: `part${t},tail`, viewBox: l, x: r, y: i, width: ae, height: ae, fill: e.color, ...(n.isOverlapped ? { opacity: 0.3 } : {}), shapeRendering: 'optimizeSpeed',
          }, a.a.createElement('g', { transform: c, dangerouslySetInnerHTML: { __html: e.tailSvg.innerHTML } }));
        },
      }, {
        key: 'renderGrid',
        value() {
          let e; let t; const n = this; const r = this.props.snakes || []; const i = this.props.food || []; const o = (e = r, t = this.props.highlightedSnake, e.concat().sort((e, n) => { let r = e.isDead ? 0 : 1; let a = n.isDead ? 0 : 1; return e._id === t && (r = 2), n._id === t && (a = 2), r - a; })); const c = ue(this.props.columns); const u = ue(this.props.rows); return a.a.createElement('svg', {
            width: this.props.maxWidth, height: this.props.maxHeight, x: this.props.x, y: this.props.y, viewBox: '0 0 '.concat(c, ' ').concat(u),
          }, Ee(this.props.rows).map((e, t) => Ee(n.props.columns).map((e, r) => a.a.createElement('rect', {
            key: `cell${t},${r}`, x: ue(r), y: ue(t), width: ae, height: ae, fill: n.props.theme === $ ? G : I, shapeRendering: 'optimizeSpeed',
          }))), o.map((e, t) => a.a.createElement('g', { key: 'snake'.concat(t), opacity: we(e, n.props.highlightedSnake) }, Object(l.a)(e.body).reverse().map((r, a) => n.renderPart(e, t, r, e.body.length - a - 1, n.props.highlightedSnake)))), i.map((e, t) => a.a.createElement('circle', {
            key: `food${t}`, cx: ue(e.x) + ae / 2, cy: ue(e.y) + ae / 2, r: oe, fill: B, shapeRendering: 'optimizeQuality',
          })));
        },
      }, { key: 'render', value() { return this.props.snakes ? this.renderGrid() : void 0; } }]), t;
    }(a.a.Component)); const xe = (function (e) {
      function t() { return Object(R.a)(this, t), Object(M.a)(this, Object(A.a)(t).apply(this, arguments)); } return Object(P.a)(t, e), Object(L.a)(t, [{
        key: 'render',
        value() {
          return a.a.createElement('svg', { viewBox: '0 0 '.concat(100, ' ').concat(100) }, a.a.createElement(Oe, {
            snakes: this.props.snakes, food: this.props.food, columns: this.props.columns, rows: this.props.rows, highlightedSnake: this.props.highlightedSnake, theme: this.props.theme, maxWidth: 100, maxHeight: 100, x: 0, y: 0,
          }));
        },
      }]), t;
    }(a.a.Component)); const je = n(2); const Se = n.n(je); const Te = n(9); const ze = n(24); const Ce = n.n(ze); function Re(e, t) { const n = {}; let r = !1; return new Promise(((a, i) => { const o = new Ce.a(e); o.addEventListener('message', (e) => { const i = JSON.parse(e.data); n[i.Turn] || (n[i.Turn] = !0, (r = t(i)) && (o.close(), a())); }), o.addEventListener('onerror', (e) => { i(e); }), o.addEventListener('onclose', (e) => { r || (r = !0, a()); }); })); } const Le = {}; function Me(e) { return Le[e]; } function Ae(e) { return e in Le ? Promise.resolve(Le[e]) : (function (e) { return Pe.apply(this, arguments); }(e)); } function Pe() { return (Pe = Object(Te.a)(Se.a.mark(function e(t) { let n; let r; let a; return Se.a.wrap((e) => { for (;;) switch (e.prev = e.next) { case 0: return e.next = 2, fetch(t); case 2: return n = e.sent, e.next = 5, n.text(); case 5: return r = e.sent, a = Fe(r), Le[t] = a, e.abrupt('return', a); case 9: case 'end': return e.stop(); } }, e); }))).apply(this, arguments); } function Fe(e) { const t = document.createElement('div'); return t.innerHTML = e.trim(), t.firstChild; } const He = 'regular'; const _e = 'regular'; function Ie() { return (Ie = Object(Te.a)(Se.a.mark(function e(t, n) { let r; return Se.a.wrap((e) => { for (;;) switch (e.prev = e.next) { case 0: return e.next = 2, fetch(t + T(n)); case 2: return r = e.sent, e.abrupt('return', r.json()); case 4: case 'end': return e.stop(); } }, e); }))).apply(this, arguments); } function Ge(e) { return new Promise(((t) => setTimeout(t, e))); } function Be(e) { const t = e.reduce((e, t) => e.concat([t.HeadType, t.TailType]), []); const n = new Set(t); return Array.from(n); } function Ne(e) { let t = !0; let n = !1; let r = void 0; try { for (var a, i = e[Symbol.iterator](); !(t = (a = i.next()).done); t = !0) { const o = a.value; o.HeadType || (o.HeadType = He), o.TailType || (o.TailType = _e), o.HeadType = Ye(o.HeadType), o.TailType = Ue(o.TailType); } } catch (c) { n = !0, r = c; } finally { try { t || i.return == null || i.return(); } finally { if (n) throw r; } } } function De(e) { return We.apply(this, arguments); } function We() { return (We = Object(Te.a)(Se.a.mark(function e(t) { let n; let r; let a; let i; let o; let c; return Se.a.wrap((e) => { for (;;) switch (e.prev = e.next) { case 0: return Ne(t), e.next = 3, l = Be(t), Promise.all(l.map(Ae)); case 3: for (n = !0, r = !1, a = void 0, e.prev = 6, i = t[Symbol.iterator](); !(n = (o = i.next()).done); n = !0)(c = o.value).HeadSvg = Me(c.HeadType), c.TailSvg = Me(c.TailType); e.next = 14; break; case 10: e.prev = 10, e.t0 = e.catch(6), r = !0, a = e.t0; case 14: e.prev = 14, e.prev = 15, n || i.return == null || i.return(); case 17: if (e.prev = 17, !r) { e.next = 20; break; } throw a; case 20: return e.finish(17); case 21: return e.finish(14); case 22: case 'end': return e.stop(); } let l; }, e, null, [[6, 10, 14, 22], [15,, 17, 21]]); }))).apply(this, arguments); } function Xe(e) { return e.indexOf('/') >= 0 || e.indexOf('.') >= 0; } function Ve(e, t) { return `${C(e, t)}.svg`; } function Ye(e) { return Ve('images/snake/head', Xe(e) ? He : e); } function Ue(e) { return Ve('images/snake/tail', Xe(e) ? _e : e); } function Ke(e) { return qe.apply(this, arguments); } function qe() { return (qe = Object(Te.a)(Se.a.mark(function e(t) { return Se.a.wrap((e) => { for (;;) switch (e.prev = e.next) { case 0: return e.next = 2, De(t.Snakes); case 2: case 'end': return e.stop(); } }, e); }))).apply(this, arguments); } function Je(e, t) { return (function (e, t) { return Ie.apply(this, arguments); }(C(e, 'games/'.concat(t)))); } function Qe(e, t, n) { return $e.apply(this, arguments); } function $e() { return ($e = Object(Te.a)(Se.a.mark(function e(t, n, r) { let a; let i; let o; let c; return Se.a.wrap((e) => { for (;;) switch (e.prev = e.next) { case 0: return o = function (e) { return i = i.then(Object(Te.a)(Se.a.mark(function t() { return Se.a.wrap((t) => { for (;;) switch (t.prev = t.next) { case 0: return t.next = 2, Ke(e); case 2: return t.abrupt('return', r(a, e)); case 3: case 'end': return t.stop(); } }, t); }))), x(e); }, e.next = 3, Je(t, n); case 3: return a = e.sent, i = Promise.resolve(), c = C(z(t), 'socket/'.concat(n)), e.next = 8, Re(c, o); case 8: return e.next = 10, i; case 10: case 'end': return e.stop(); } }, e); }))).apply(this, arguments); } function Ze(e, t) { return e.filter((e) => e.turn === t)[0]; } function et() { const e = Object(F.a)(['\n  margin-bottom: 0.5rem;\n  padding-bottom: 1rem;\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n\n  @media (min-width: ', ') {\n    margin-bottom: 1rem;\n  }\n']); return et = function () { return e; }, e; } const tt = Object(H.a)('div')(et(), J); const nt = Object(H.a)('div')({ paddingBottom: '1rem', display: 'flex', flexDirection: 'row' }); const rt = Object(H.a)('span')((e) => ({ display: 'block', textShadow: e.theme === $ ? '0 1px 2px rgba(0,0,0,0.90)' : null })); const at = Object(H.a)('span')((e) => ({
      fontSize: '1rem', marginLeft: 'auto', paddingTop: '0.65rem', textShadow: e.theme === $ ? '0 1px 2px rgba(0,0,0,0.90)' : null,
    })); const it = Object(H.a)('span')((e) => ({ marginLeft: '5px', textShadow: e.theme === $ ? '0 1px 2px rgba(0,0,0,0.90)' : null })); const ot = Object(H.a)('div')({
      width: '100%', height: '1.8rem', background: N, borderRadius: '1.5rem',
    }); const ct = Object(H.a)('div')((e) => ({ height: '100%', backgroundColor: e.color, borderRadius: 'inherit' })); const lt = Object(H.a)('div')((e) => {
      const t = e.theme; return {
        height: '100%', padding: '.2rem .8rem', fontSize: '1.5rem', lineHeight: '1.3rem', backgroundColor: t === $ ? W : D, borderRadius: 'inherit', color: t === $ ? X : V,
      };
    }); const ut = (function (e) { function t() { return Object(R.a)(this, t), Object(M.a)(this, Object(A.a)(t).apply(this, arguments)); } return Object(P.a)(t, e), Object(L.a)(t, [{ key: 'render', value() { return a.a.createElement(tt, null, a.a.createElement(nt, null, a.a.createElement(rt, null, this.props.snake.name), a.a.createElement(at, null, this.props.snake.latency), a.a.createElement(it, null, this.props.snake.body.length)), a.a.createElement(ot, null, this.props.snake.death ? a.a.createElement(lt, { theme: this.props.theme }, (function (e) { switch (e) { case 'snake-collision': return 'Collided with snake body'; case 'snake-self-collision': return 'Collided with own body'; case 'starvation': return 'Starvation'; case 'head-collision': return 'Head on head collision'; case 'wall-collision': return 'Collided with a wall'; default: return e; } }(this.props.snake.death.cause))) : a.a.createElement(ct, { color: this.props.snake.color, style: { width: ''.concat(this.props.snake.health, '%') } }))); } }]), t; }(a.a.Component)); function st() { const e = Object(F.a)(['\n  transition: background-color 0.2s, box-shadow 0.2s;\n  box-shadow: ', ';\n\n  &:hover {\n    background-color: ', ';\n    cursor: pointer;\n  }\n']); return st = function () { return e; }, e; } function dt() { const e = Object(F.a)(['\n  display: none;\n  padding-right: 2rem;\n  color: ', ';\n  font-weight: 600;\n  font-size: 1.4rem;\n\n  @media (min-width: ', ') {\n    display: ', ';\n    font-size: 1.8rem;\n  }\n\n  @media (min-width: ', ') {\n    font-size: 3.2rem;\n    letter-spacing: 0.1rem;\n  }\n']); return dt = function () { return e; }, e; } const ht = Object(H.a)('div')(dt(), (e) => (e.theme === $ ? X : V), q, (e) => (e.hide ? 'none' : 'block'), Q); const pt = Object(H.a)('div')(st(), (e) => (e.highlighted ? '0 0 0 1px '.concat(X) : null), (e) => (e.theme === $ ? Y : K)); const mt = (function (e) {
      function t() { let e; let n; Object(R.a)(this, t); for (var r = arguments.length, a = new Array(r), i = 0; i < r; i++)a[i] = arguments[i]; return (n = Object(M.a)(this, (e = Object(A.a)(t)).call.apply(e, [this].concat(a)))).state = { highlightedSnake: null }, n.toggleHighlight = function (e) { const t = function (e, t) { return e.highlightedSnake !== t._id ? t._id : null; }; n.props.highlightSnake(t(n.state, e)), n.setState((n) => ({ highlightedSnake: t(n, e) })); }, n; } return Object(P.a)(t, e), Object(L.a)(t, [{
        key: 'render',
        value() {
          const e = this; const t = this.state.highlightedSnake; return a.a.createElement(ht, { theme: this.props.theme }, this.props.snakes ? (function (e) { const t = e.filter((e) => !e.isDead).sort((e, t) => { const n = e.name.toLowerCase(); const r = t.name.toLowerCase(); return n < r ? -1 : n > r ? 1 : 0; }); const n = e.filter((e) => e.isDead).sort((e, t) => e.death.turn - t.death.turn).reverse(); return t.concat(n); }(this.props.snakes)).map((n, r) => a.a.createElement(pt, {
            key: `avatarwrapper${r}`, onClick() { return e.toggleHighlight(n); }, highlighted: t === n._id, theme: e.props.theme,
          }, a.a.createElement(ut, { snake: n, key: `avatar${r}`, theme: e.props.theme }))) : void 0);
        },
      }]), t;
    }(a.a.Component)); const ft = n(25); const vt = n.n(ft); function gt() { const e = Object(F.a)(['\n  display: inline-block;\n  min-width: 3rem;\n  text-align: center;\n  background: transparent;\n  color: ', ';\n  font-size: 1.4rem;\n  border: none;\n  text-decoration: none;\n  text-align: center;\n  cursor: pointer;\n  transition: background 250ms ease-in-out, transform 150ms ease;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &:disabled {\n    color: #ccc;\n    cursor: not-allowed;\n  }\n']); return gt = function () { return e; }, e; } function bt() { const e = Object(F.a)(['\n  position: absolute;\n  bottom: 2.5rem;\n  right: 2.5rem;\n  width: 20rem;\n  padding: 1rem;\n  border: solid 1px #999;\n  background: #fff;\n\n  @media (min-width: ', ') {\n    left: 2.5rem;\n    right: 0;\n  }\n\n  h4 {\n    margin-top: 0;\n    margin-bottom: 1rem;\n  }\n\n  ul {\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n  }\n']); return bt = function () { return e; }, e; } function yt() { const e = Object(F.a)(['\n  margin: 0;\n  padding: 1rem;\n  height: 3rem;\n  width: 3rem;\n  background: #dfdfdf;\n  border-radius: 50%;\n  line-height: 0.5;\n  text-align: center;\n\n  &:hover {\n    cursor: pointer;\n  }\n']); return yt = function () { return e; }, e; } function wt() { const e = Object(F.a)(['\n  display: ', ';\n  margin-top: 1rem;\n  width: 100%;\n']); return wt = function () { return e; }, e; } const Et = Object(H.a)('div')(wt(), (e) => (e.hide ? 'none' : 'block')); const kt = Object(H.a)('div')((e) => ({
      display: 'flex', color: e.theme === $ ? '#eee' : '#333', justifyContent: 'center', marginBottom: '2rem', fontSize: '1.4rem',
    })); const Ot = Object(H.a)('div')({ position: 'relative', marginLeft: '1rem' }); const xt = Object(H.a)('div')(yt()); const jt = Object(H.a)('div')(bt(), q); const St = Object(H.a)('div')({
      display: 'flex', justifyContent: 'center', width: '100%', marginBottom: '2rem',
    }); const Tt = Object(H.a)('button')(gt(), (e) => (e.theme === $ ? '#eee' : '#333')); const zt = (function (e) {
      function t(e) {
        let n; return Object(R.a)(this, t), (n = Object(M.a)(this, Object(A.a)(t).call(this, e))).state = { paneHidden: !0 }, n.handleParentKeyboardEvent = function (e) { const t = e.data.code; n.handleKeyEvent(n.keyboardCodeMap[t]); }, n.toggleTheme = function () { n.props.toggleTheme(); }, n.handleReload = function () { n.props.reloadGame(); }, n.handlePlayPause = function () { n.props.toggleGamePause(); }, n.handleBackward = function () { n.props.stepBackwardFrame(); }, n.handleForward = function () { n.props.stepForwardFrame(); }, n.handleShortcutPaneShowToggle = function () { n.setState({ paneHidden: !n.state.paneHidden }); }, n.handleKeyEvent = function (e) { switch (e) { case 'r': n.handleReload(); break; case 'left': n.handleBackward(); break; case 'right': n.handleForward(); break; case 'space': n.handlePlayPause(); } }, n.keyboardCodeMap = {
          KeyR: 'r', ArrowLeft: 'left', ArrowRight: 'right', Space: 'space',
        }, n;
      } return Object(P.a)(t, e), Object(L.a)(t, [{ key: 'componentDidMount', value() { window.addEventListener('message', this.handleParentKeyboardEvent); } }, { key: 'componentWillUnmount', value() { window.removeEventListener('message', this.handleParentKeyboardEvent); } }, { key: 'render', value() { return this.renderControls(); } }, { key: 'renderControls', value() { const e = this.props; const t = e.currentFrame; const n = e.hideControls; const r = e.paused; const i = e.theme; return a.a.createElement(Et, { hide: n }, a.a.createElement(kt, { theme: i }, 'Turn: ', t.turn), a.a.createElement(St, null, a.a.createElement(Tt, { onClick: this.toggleTheme, theme: i }, 'Toggle Theme'), a.a.createElement(Tt, { onClick: this.handleReload, disabled: t.turn === 0 || !r, theme: i }, 'Reload'), a.a.createElement(Tt, { onClick: this.handlePlayPause, theme: i }, r ? 'Play' : 'Pause'), a.a.createElement(Tt, { onClick: this.handleBackward, disabled: t.turn === 0 || !r, theme: i }, 'Backward'), a.a.createElement(Tt, { onClick: this.handleForward, disabled: !r, theme: i }, 'Forward'), a.a.createElement(vt.a, { handleKeys: Object.values(this.keyboardCodeMap), onKeyEvent: this.handleKeyEvent }), a.a.createElement(Ot, null, a.a.createElement(xt, { onClick: this.handleShortcutPaneShowToggle }, '?'), !this.state.paneHidden && a.a.createElement(jt, null, a.a.createElement('h4', null, 'Keyboard shortcuts'), a.a.createElement('ul', null, a.a.createElement('li', null, 'Reload = r'), a.a.createElement('li', null, 'Play/Pause = space'), a.a.createElement('li', null, 'Backward = left arrow'), a.a.createElement('li', null, 'Forward = right arrow')))))); } }]), t;
    }(a.a.Component)); function Ct() { const e = Object(F.a)(['\n  > path {\n    fill: ', ';\n  }\n']); return Ct = function () { return e; }, e; } function Rt() { const e = Object(F.a)(['\n  height: 100%;\n  width: 100%;\n\n  > svg {\n    object-fit: contain;\n    width: 100%;\n    height: 100%;\n    max-width: 100%;\n    max-height: 100%;\n  }\n']); return Rt = function () { return e; }, e; } const Lt = Object(H.a)('div')(Rt()); const Mt = Object(H.a)((e) => a.a.createElement(Lt, null, a.a.createElement('svg', { xmlns: 'http://www.w3.org/2000/svg', viewBox: '0 0 503 184', ...e }, a.a.createElement('path', { d: 'M305.5 102.7h-36.1v-71H253v71h-36.2v-71h-27L178.2.7h146.5l-.7 31h-18.5zm-33-3h30v-71H321l.6-25h-139l9.3 25h28v71h30v-71h22.6zm226 84.5l-133.3-72.5 34.2-34.8L365.9.3l134-.1V13l-22 15.5L502.5 50h-60.8L459 87.3 439.6 107zm-128.2-73.3l117 63.7-51.8-67.8 19.8-20.1-18.5-39.8h57.4l-21.3-18.7 24-16.8V3.2l-126.3.2L403 77.6zm87-87a7.3 7.3 0 1 1 7.3-7.2 7.3 7.3 0 0 1-7.3 7.2zm0-11.5a4.2 4.2 0 1 0 4.2 4.3 4.2 4.2 0 0 0-4.2-4.3z' }), a.a.createElement('path', { d: 'M134.8 104l-27.2-27.6 32-76.4h34.8l43 102.7h-39.3l-5.3-13.3h-32.5zm45.4-4.4h32.5L172.3 3.1h-30.7l-30.4 72.6 22.4 22.7 4.6-12H175zM167.9 66h-22.5l11.3-30zm-18-3h13.6l-6.8-18.2zm219.6 39.7h-42.3V30.3l.7-29.6h35.3V66h28l4.7 10.7zm-39.3-3h38l24-23.8-3-6.9h-29V3.8h-29.4l-.6 26.6z' }), a.a.createElement('path', { d: 'M3.9 184.2L62.8 107 43.4 87.3 60.7 50H0l24.7-21.5L2.4 13V.2l59.3.1h74.7L103 77l34.2 34.8-1.8 1zm43.2-97.5l19.7 20-51.6 68 117-63.7-32.8-33.3.4-1 32-73.3H5.5v8l24 16.9L8.2 46.9h57.5zm-2-62.8a7.3 7.3 0 1 1 7.2-7.3 7.3 7.3 0 0 1-7.3 7.3zm0-11.5a4.2 4.2 0 1 0 4.1 4.2 4.2 4.2 0 0 0-4.2-4.2zM210.7 118a.2.2 0 0 1-.2 0v-.1a.2.2 0 0 1 .2.2zm4.6-45.5a49.2 49.2 0 0 0 3.5 7.6l1.4 2.6-3.3-9.7a1.1 1.1 0 0 0-1.6-.6z' }), a.a.createElement('path', { d: 'M223.2 94.4a1 1 0 0 0-1.2-.3l-.4-.7c-2.9-3.3-5.7-6.8-8.8-10a1 1 0 0 0-.5.8l-.5 3a2 2 0 0 0 0 .3l-1.7 11a1.1 1.1 0 0 0 .6 1.1 5.5 5.5 0 0 1-.7 1.8l.3 5v3.4a1.2 1.2 0 0 0 0 .4v.5a.7.7 0 0 0-.1.1 1.2 1.2 0 0 0 0 .4c0 .1-.1 0 0 .1v.6c0 .2 0 0 0 0a2 2 0 0 1 0 .6v1.3s-.1 0 0 0a1 1 0 0 1 0 .2v.2a.4.4 0 0 0 0 .3s-.2.1 0 .2-.1 0 0 0l-.2 1.3v1.2h.1c.1 0 0 0 0 .2a.5.5 0 0 1 0 .2.5.5 0 0 1 .2.1v.3c0 .1 0 0 0 0h.4c.2 0 0 0 0 0h.1v1a30 30 0 0 1-1.4 7.2l-.5 1.1a148.2 148.2 0 0 0-6.2-17.1l-.4-2.2c.1-.2.3-.2.5-.2a2.7 2.7 0 0 1-.4-.9 3 3 0 0 1 0-.5 1 1 0 0 0-.1-.4 2.6 2.6 0 0 0-.4-.4v-.3a.2.2 0 0 1 .2 0c.2 0 .3-.1.3-.5a12.4 12.4 0 0 0-.9-2c-.6-4.5-1.2-9-1.6-13.5a1.1 1.1 0 0 0-1.2-1l-.2-.7a1.1 1.1 0 0 0-.4-.5l-.5.4a96 96 0 0 1-11.6 12.7l-2.1 3.4a1.2 1.2 0 0 0-.1.1 1.9 1.9 0 0 1 1.3 1.4 1.1 1.1 0 0 0 .6-.5l.6-.7q-1.1 6-2.4 11.8l-2 9a45.2 45.2 0 0 0-1.5 8.7.4.4 0 0 0 .4.4 391 391 0 0 1-1 4.7.9.9 0 0 0-.4 1 11 11 0 0 0 1.9 3.8l1.4 2.5 2.2 3.4a20.3 20.3 0 0 0 2.4 2.9 7.1 7.1 0 0 0 1 .8 65.3 65.3 0 0 1 3.2 6.1 1.1 1.1 0 0 0 2-.2l4.2-23.4.3.6a.9.9 0 0 1 1.5-.2v-1.4a.8.8 0 0 1 1.7 0v.7a.7.7 0 0 1 .6.4 35 35 0 0 0 3.4 5.2.8.8 0 0 1 1.3.2c.8 1.6 1.9 3 2.7 4.6a.8.8 0 0 1-.1 1 24 24 0 0 1 3.2 3l2.3 1.9a1.3 1.3 0 0 0 1.2.2c1 1.3 1.8 2.6 2.7 4a1.1 1.1 0 0 0 2-.6c.8-6.2 1.7-12.6 1.9-18.9a7.3 7.3 0 0 1 .8-1.3c0-1.3 0-2.8.2-4.5l.5-4.5 1.6-13.3c.5-3.4 1-6.9 1.3-10.4.2-3.1-1.6-5.2-3.5-7.7zM191.7 155l-.8-1.6a1 1 0 0 0 .2-.1 1.5 1.5 0 0 1 1-.4zm.5-2.5a.4.4 0 0 0-.2-.2c-.1 0-.1-.2 0-.4h.3l-.1.5zm4.9-59v-.8l.1-.6.4 1.5a1.2 1.2 0 0 0-.5 0zm1.4 6l-.3-1v-.3c0-.1 0 0 0 0a1 1 0 0 0 .3.6l.2 1zm5.7 19.8l-.9-4.3a403.2 403.2 0 0 1 1.5 4.5.6.6 0 0 0-.6-.2zm1.2 4.4v.8l-.5-2v-1a13.3 13.3 0 0 1 .8 1.7.5.5 0 0 0-.3.5zm1.2 4.4l-.2-.2a.7.7 0 0 0 .2-.3zm-.2-2.5a14 14 0 0 1 .2 1.6 11.9 11.9 0 0 1-.2-1.5zm.3 5l-.3-1.4a3.9 3.9 0 0 0 .5.2.5.5 0 0 0 .7-.4 12 12 0 0 0 0-1.6l.4 1.4a13.1 13.1 0 0 1-1.3 1.8zm4-16.5a6.3 6.3 0 0 0 0 1.3 3 3 0 0 0 0 .7v1.1c0 .2 0 0 0 0v.1a.1.1 0 0 1 0-.1 2.3 2.3 0 0 1 0-.8v-2.1s.1 0 0 0v-.8a.2.2 0 0 0 0-.2v-.4c0-.1.1 0 0-.1v-.1a2 2 0 0 0 0-.2V109.2l.1 1.8.2 3.3h-.3zm7.9 36.6v-1.5a1.4 1.4 0 0 0 .2-.2zm2.8-53.6a.7.7 0 0 0 0-.2V96.6a1.5 1.5 0 0 0 0-.2v-.1c0-.1-.1 0 0-.1v1zm2.8 7.4l-.7 5.4v-4.6a.4.4 0 0 0 0-.1 6.3 6.3 0 0 0 0-2.4 6 6 0 0 1 .4-1.7l-.5-1v-2l.7 1.2c.8 1.5.3 3.5.1 5.2zm166.2-37.2a1 1 0 0 0-1-.7 1 1 0 0 0-.7 1.9 4 4 0 0 1-.4.2 1.1 1.1 0 0 0-.7-.3h-.3a.6.6 0 0 0-.8-.5h-.2a.6.6 0 0 0-.5-.3c-3.3.4-6.4 1.9-9.4 3.2l-2 .8a.7.7 0 0 0-1-.4 8 8 0 0 0-1.1.7.6.6 0 0 0-.6-.1 175 175 0 0 0-14 6.2l-1.5.4-4.9 1.5a23.2 23.2 0 0 0-5 1.7.8.8 0 0 0 0 1.5 107.2 107.2 0 0 1-11 4.1 1 1 0 0 0 .5 1.9l-.6.5a6.8 6.8 0 0 0-1.5 2.5l.4 1a1 1 0 0 0 0 .3c-.3 8.4 0 17 .3 25.4l-.8.2a55.5 55.5 0 0 1-9.1 1.6 52.4 52.4 0 0 1-5.5.2 1.1 1.1 0 0 0-.7-.6l-.5-.2-3.6-2.7a36.7 36.7 0 0 1-3.5-4.5v-.2a11.1 11.1 0 0 1 1-1.2l.8-1.1a4 4 0 0 0 .7-1.3 28.7 28.7 0 0 1 2.6-3.3 130.6 130.6 0 0 0 9.5-11 27 27 0 0 0 2.2-3.2 11.6 11.6 0 0 1 .2-1.8c0-.5.2-1 .3-1.4a4.2 4.2 0 0 0-1-1.7 6 6 0 0 0-1.3-.8l-1.3-.7a4.1 4.1 0 0 1-1.3-1.2 2.7 2.7 0 0 1-1.9-.7c-.5-.4-1-.9-1.7-1.3a18.3 18.3 0 0 0-1.5 1.3 8.6 8.6 0 0 1-1.7 1.2c0 .4.2.6.4.6s.3.2.4.5l-.8-.1a1.5 1.5 0 0 0-1 .2 458 458 0 0 1-8.2 9.7 29 29 0 0 0-3.5 5l-1.5 2-1.7 2.3-1 1.2V103l.2-4.6-.2-7.6a11 11 0 0 0-1.2-5.2l.3-4a1 1 0 0 0-1.6-1 1.1 1.1 0 0 0-1.9-1l-1.9 2.6q-2.1 1.5-4 3.2c-3.4-.5-3.9 2.6-3.9 5.3a1 1 0 0 0 0 1.1v1.5l.1 4.1a6.5 6.5 0 0 1-.7 2.3 53.3 53.3 0 0 1 .2 7.6l-.2 4.7-2-2.2-12.6 4.8-1 .2a3.9 3.9 0 0 0-.8.4 2.7 2.7 0 0 0-.8 0 28.6 28.6 0 0 1-1.9-3.5l-1.7-4-1.1-2.8-1.3-2.8-1-3.2-.2-.3c-.3-3.5-2.5-6.3-4.3-9.3l-.5-1.1-1.3 1.6 1 1.8-1-.2v-.2a.8.8 0 0 0-.4-.6.8.8 0 0 0 0-.1l-1 1.6a2 2 0 0 1-2.7.7l-5.3-2.6a6 6 0 0 0-.9-.3l-5 11-.5.3a18.5 18.5 0 0 0-1 3l-.2.5-1.4 3a1.1 1.1 0 0 0 .3 1.4l-.1.6a27.3 27.3 0 0 1-1 2.7 2.3 2.3 0 0 0 0 .8 2.3 2.3 0 0 0 .3.6l-.7 3-.7 2.8-.3 1.6v.1c0 .1 0 0 0 0v.4c-.2 0 0 .1-.2.2s0 .1 0 .2a1.1 1.1 0 0 1 0 .3v.5c0 .1-.2.1 0 .1 0 .2 0 .4-.2.6v.4c0 .1 0 .1 0 0a2 2 0 0 1 0 .3V124.6c.1.1 0 0 0 0v.5c0 .1-.1 0 0 .1v.8a.6.6 0 0 1-.1.2l-.1.5v.1l-.4 1.6q-1 4.2-1.6 8.8l.2 1.4-.7.9 1 .7a.4.4 0 0 1 0 .2v.1c0 .1-.1 0 0 .1v.4s-.1 0 0 0v.2a.4.4 0 0 0 0 .2v.3a1.2 1.2 0 0 1 0 .1v.2c0 .3 0 .5-.2.6h.1v2.1c0 .1 0 0 0 0v.2c0 .2 0 0 0 0v.5c0 .1 0 0 0 0v1.5a13 13 0 0 0 0 2 .1.1 0 0 1 0 .2h-.1a2.6 2.6 0 0 1 0 .7V148.9h-.1a4.6 4.6 0 0 0 0-1 2 2 0 0 0 0-.5 2.1 2.1 0 0 1 0-.3v-.4a2 2 0 0 1 0-.5v-.7a.5.5 0 0 0 0-.1v-.1.9-.2h-.2v.3a2.9 2.9 0 0 0 0 .7 1.4 1.4 0 0 1 0 .3v2.4a.1.1 0 0 1 0 .2.3.3 0 0 0 0 .1v.1a.1.1 0 0 0 .1.1.2.2 0 0 1 0 .2.1.1 0 0 1 0 .1h.1a1.3 1.3 0 0 0 0 .5h-.9v-.4a.2.2 0 0 0 0-.1v-.1a1.5 1.5 0 0 1 0-.5v-.6.3l.1.2c.1 0 0-.2 0-.2v.4a2.9 2.9 0 0 0 .1.3v.1a.7.7 0 0 1 0 .3 1 1 0 0 1 0 .3v.1l.1-.1c.1-.1 0 0 0 0v-.2a.2.2 0 0 1 0 .2c.1 0 0 .2 0 .2a3.4 3.4 0 0 0 .2.8v.1a.7.7 0 0 1 0 .4h.2c-.1 0 0-.2 0-.2v-.1l.1.1c.1 0 0 0 0 .1a3.4 3.4 0 0 1 0-.5s.2 0 0 0 .1 0 0-.2v-.3a4.5 4.5 0 0 0 .9 1.9 2.9 2.9 0 0 0 3 1.1 51.1 51.1 0 0 0 5.8 5.3c.6.5 2 .3 1.9-.8-.7-5.6.5-11.1 1.5-16.6a50.6 50.6 0 0 0 .9-7.6l.1-2.7a25.8 25.8 0 0 0 2.3 4.6c.7.9 2.3.4 2-.8a.9.9 0 0 0 0-.2 84.8 84.8 0 0 1 8.5-3.5l2.3-.7 1 3 .2.4a1.7 1.7 0 0 1 1.5.5l.1.1a131.4 131.4 0 0 1 3.1 15 .5.5 0 0 0 .9.3c1.3-1.4 1.7-3.5 2.3-5.4l2.2-4.8a9.2 9.2 0 0 0 .6-.7 10.7 10.7 0 0 0 1.6-3l.3-.6.4-.5a.4.4 0 0 0-.1-.6 12.8 12.8 0 0 0 .2-1.3l.1-.4v-.3a19.2 19.2 0 0 0 .5-2.2 1.1 1.1 0 0 0-1.4-1.3l-.8-2.3a5.3 5.3 0 0 1-.5-1l-.3-1c1.1-.8 4.8-.5 5.6-1.5a73 73 0 0 1 6.8-3.5c.1 1.2.2 8.4.4 9.5a6.3 6.3 0 0 1-.5.4c-.2.1-.2.3 0 .7l.3.3.5.6v.2a2.7 2.7 0 0 1-.7.3 1.4 1.4 0 0 0 0 1 8.7 8.7 0 0 0 .6.8 4 4 0 0 1 .3.5l.1 1.1a2.4 2.4 0 0 1-.1.2l.1.1c.3 2.5.7 5 .8 7.5l-.2 1a1.2 1.2 0 0 0 .2.9 24 24 0 0 1-.2 3.4l-.6 1c-.7 1.2 1 2.5 1.8 1.5a1.1 1.1 0 0 0 .7-.6l1.2-2-.7 1.6c-.7 1.3 1.3 2.5 2 1.2l3.6-7.3a3.5 3.5 0 0 0 .5 0 8.8 8.8 0 0 0 2.9-4 49 49 0 0 0 1.5-5l.6-2 3-6a9.8 9.8 0 0 0 2.1 1.5 49.7 49.7 0 0 0 9.7 3 11.7 11.7 0 0 0 1.2.4 2.3 2.3 0 0 0 .6 0l2.3.5a.6.6 0 0 0 .2.2 19 19 0 0 0 3.9.5 20.3 20.3 0 0 0 4.5 0l1.8-.3c1.9 0 4-.3 5.3-.5l.2 3a1.4 1.4 0 0 0-.2.4 4.3 4.3 0 0 0 .8 4.4v.1l-.1 1.3c0 1.5-.3 4.3 1 5.4a1.6 1.6 0 0 0 .1.2c.2 1.3.5 2.8 2 2.9a13.6 13.6 0 0 0 3.4-.8l4.5-1.2 5.7-1.4a57.8 57.8 0 0 0 7.2-1.4c2-.5 4-1.3 5.8-2l7.2-1.9c1.3-.3 1-2.4-.3-2.3a24.2 24.2 0 0 0-4.5 1 20.3 20.3 0 0 0 4-1.7 8.8 8.8 0 0 0 1.6-1 23.4 23.4 0 0 1 .9-5.6l.9-3a2.5 2.5 0 0 0-.6-.8 1.5 1.5 0 0 1-1.3-.2 9.5 9.5 0 0 1-1-1l-1.3-1a3 3 0 0 0-1.3-.9 16.6 16.6 0 0 1-3.8 1.5 9 9 0 0 0-3.5 1.8 25.8 25.8 0 0 0-4.2.6l-3.2.8q-1.5.5-3.3.8a6.3 6.3 0 0 1-2.5-.4v-9.4a6.2 6.2 0 0 0 1.8 0 4.4 4.4 0 0 1 2.2.1 2.3 2.3 0 0 1 1.7-.5 2.8 2.8 0 0 0 1.4-.2l.6-.1a.6.6 0 0 0 .3 0h.6a9.4 9.4 0 0 0 3.4-.8l.3-.2c.4 0 .9-.2 1.3-.4l.2-.1a1.1 1.1 0 0 0 2 .2 1 1 0 0 0 1-1l-.1-2c0-.2.2-.3.3-.4l2.1-2.4a3.9 3.9 0 0 0-.1-1.8 6.8 6.8 0 0 0-.8-1.5 2.1 2.1 0 0 1-1.4-.2c0-1.1 0-2.2.2-3.4a1 1 0 0 0-.3-.8 1.2 1.2 0 0 0-1.9-.1v.3a1 1 0 0 0-.3 0 1.2 1.2 0 0 0-1.2-.4l-2.7.7-4.2.8a30.4 30.4 0 0 1-6.2.8c-.2-.3 1.3-6.5 1.2-7v-.3c3.2-1.4 6.3-3.2 9.4-4.7q6-2.7 12.1-5l9.3-3.4a.8.8 0 0 1 .4-1.1 58.1 58.1 0 0 1 6-2.1c.4-.2 1.2-.6 2-.8l.4-1.4a9.8 9.8 0 0 1-1.2.2 6.3 6.3 0 0 1-1.4.1 1.1 1.1 0 0 1-.8-1.8.8.8 0 0 0 .3.3 1.1 1.1 0 0 0 .4.1h.1c-.2 0 0 0 0 0a.8.8 0 0 0 .5 0h.1a1.7 1.7 0 0 0 .3-.1 1.4 1.4 0 0 0 .7-1.2 1 1 0 0 0-.8-1 1 1 0 0 0-1 .6 1 1 0 0 0-.6 1 9.4 9.4 0 0 1-1.5.3c-1.2 0-1.4-1.4-.6-2a11.6 11.6 0 0 1 2-1 1.2 1.2 0 0 1 0-1.4 11 11 0 0 1-1.4.3 1.4 1.4 0 0 1-1.4-.7h.1a3.3 3.3 0 0 0 1.5.1c1 .5 2.2-.7 2-1.8a2 2 0 0 0-1.6-1.3 3.4 3.4 0 0 0-.5 0 96 96 0 0 1 3.3-1.8.9.9 0 0 0 .5-.2l1.8-1 3.7-1.8.7-.4.6-1.5-4.8 1.9zm-150 89l-1.2-1.3a1 1 0 0 0 1-.8l.1-.5a.6.6 0 0 0 .2 0v2.5zm8.5-22.5l-.5-1 .7.1h1.2a13.8 13.8 0 0 0-1.4 1zm3.5-13.3l-4.4.9a5.3 5.3 0 0 1-.8.2 5 5 0 0 0-1 .2l.6-1.7.7-1.6a39.9 39.9 0 0 1 1.6-4.5 30.8 30.8 0 0 1 2.3-4.4l.2-.9a178 178 0 0 1 5 10.6 40.5 40.5 0 0 1-4.2 1.2zm10 10.3l.3-.1a7.8 7.8 0 0 1 .2 1.3zm4.8 18.1q-.9-5.4-2.1-10.7a36.1 36.1 0 0 1 1.4 4v1.8a.5.5 0 0 0 .7.5l.7 2.5a10.1 10.1 0 0 1-.7 2zm22.6-5.8a.8.8 0 0 0-.2-.1l.2-.8a.8.8 0 0 0 .3-.1l.1.3zm14.7-17.5a1 1 0 0 1 .4.3l.6.4a7 7 0 0 1-1-.7zm34.2 16.5a4.4 4.4 0 0 1-.7-2l.6.6a6.2 6.2 0 0 1 .1 1.2zm13.7 1.9a27.8 27.8 0 0 0 3.2-.7c1.6-.4 3-.8 4.2-1.3a2.7 2.7 0 0 1 1 .1l-9.5 2.5c.3-.3.7-.5 1-.6zm6.7-64.2l-.9.2-.4.2v-.1l1.6-.5zm18-4.8a.1.1 0 0 0-.1 0l-.4.1s0 .1 0 0h-.2a.7.7 0 0 0-.1.2c0-.1-.2 0-.2 0h-.2a.7.7 0 0 0 .2-.2l.3-.1 1.4-.4zm6.1 1.7l.3-.1a.1.1 0 0 1 .1 0l-.2.2h-.1l-.2.1c-.2.1 0 0-.1 0h-.1zm1.6-6.2l-5 2.6-3.7 1.9a1 1 0 0 0 0-.7 84.8 84.8 0 0 0 10.2-4.8 1 1 0 0 0 .1.3l-1.5.7zM377.2 90zm1-.2z' }), a.a.createElement('path', { d: 'M184.5 76.6l-1 1.4a1 1 0 0 0-1.3-.5l-.4.2a1.1 1.1 0 0 0-.5-1 .8.8 0 0 0-.1-1 .8.8 0 0 0-.4-1 1.6 1.6 0 0 0-1-.3.8.8 0 0 0-.3-.9l2-1.2a1 1 0 0 1 0-.4 3 3 0 0 1 1-1l-3.5 2.4a1.7 1.7 0 0 0-1 .1 1.1 1.1 0 0 0-.8 0 1 1 0 0 0-.7 1l-5 3-.2.1a2 2 0 0 0-.5 0 2 2 0 0 0-1.2 1l-3.3 2.2a26.6 26.6 0 0 0-4.4 3l-1.4.7 1-.8c3.4-2.5 7.1-5 10.3-7.7.6-.6-.2-1.6-1-1.2a94.6 94.6 0 0 0-11 7.4l-10.6 8c-7 5.2-14 10.6-20.4 16.4a1 1 0 0 0-.4.7 17.3 17.3 0 0 0-4.2 3.5v.1c.7 4.8 4.2 8.4 6.4 12.7a110.5 110.5 0 0 1 14.3 3q2.3.6 4.5 1.4a12.5 12.5 0 0 1 4.3 2c2 1.8 1.7 4.7 1 7.2a43.9 43.9 0 0 1-6 5.6l-7.5 3.7-6.4 3.5a2 2 0 0 1 0 .3l-3.5 1.4a68.3 68.3 0 0 0-7.7 3.1.8.8 0 0 0 .3 1.6.8.8 0 0 0 .8 1.1 36.4 36.4 0 0 0 6.5-2.7l.4-.2c-4.9 4.3-10.5 7.7-16 11.3-2.2 1.5-4.5 3-6.7 4.7a.8.8 0 0 1 .2.2 74.2 74.2 0 0 1 11.4-6.5c.9-.4 1.8.7 1 1.3-2 1.9-4.5 3.4-6.3 5.5l.7-.2h.3l.1-.2.4-.1a38.7 38.7 0 0 1 5-2.9 1.3 1.3 0 0 1 1.6.7 2.4 2.4 0 0 0 .2-.2.6.6 0 0 0 .2 0l1.5-.7-1.9 1a.8.8 0 0 1-.3 1l-.3.1a11.7 11.7 0 0 0 1.4-.7l.6-.3c.8-.6 1.6.6 1 1.2 2.7-1.5 5.4-2.9 8.2-4.2a.9.9 0 0 0 0 .6l-.5.3a.5.5 0 0 0 .3 1 62.6 62.6 0 0 0 6.3-2l4.4-2.6.6-.4a9 9 0 0 1 2.3.1.5.5 0 0 0 .7-.5 2.7 2.7 0 0 1 0-.6c-.2.4.4 1 .8.5a9.1 9.1 0 0 1 1.3-1.2 36.4 36.4 0 0 0 6.5-3.5 17.7 17.7 0 0 0 3.2-1.9l1.9-1.4a33.8 33.8 0 0 0 2.8-2l.9-.7a13.9 13.9 0 0 0 2.2-1.7 19 19 0 0 1 2-1.5.5.5 0 0 0 .3-.6l.8-1.4a25.9 25.9 0 0 0 2.8-6.7 21.4 21.4 0 0 0 .6-7.7 10.7 10.7 0 0 0-1.2-4l-1-2.1c-.7-1.1-1.2-2.4-2-3.3a23.8 23.8 0 0 0-5.3-5 33 33 0 0 0-6.7-3.3c-2.3-.9-5.4-1.2-7.3-2.6a1.1 1.1 0 0 1-.3-.4l13.8-9c5.6-3.7 11.5-7.3 17-11.4l3.7-2a2.7 2.7 0 0 0 0-.2 1.9 1.9 0 0 1-1.3-1.6 2 2 0 0 1-.7-1.3.8.8 0 0 0 .3-.1 6.8 6.8 0 0 0 1.4-3.6 1 1 0 0 0 1.5-.3l.1-.8a1 1 0 0 0-1-1l1-2a.9.9 0 0 0-1.6-1zm-36.8 47.9a1.2 1.2 0 0 0-.2.2l-2.8-.8 1.8.3 1.4.2zm-10.2 40.4l1.3-.7a63.7 63.7 0 0 1-1.3.7zm16.3-8.6l-.3.3-.6.2.1-.1zm7.7-27a4 4 0 0 1 .1 3 11.9 11.9 0 0 0-.1-3zm4.6 19.8l-1.3 1-.6.4.4-.5 1.5-1zM147.2 160l-1.1.6h-.3l1.4-.5zm2-15.1a3 3 0 0 1 .4-.2l.3-.2h.3a2.7 2.7 0 0 0 .4-.2h.2a.6.6 0 0 1 .2-.1l-.3.2h-.1c-.2.2-.5.2-.7.3a2.8 2.8 0 0 1-.4.2l-.5.2zm13.5-16.6l-.2.9a6.5 6.5 0 0 0-1.3-1.1zm-4.8-2a9.2 9.2 0 0 1 .7 1.4 9.2 9.2 0 0 0-1-1.1 1.7 1.7 0 0 0 .3-.4zm-.9 11.2l1-1.4-.8 1.2-.2.2zm-1.6-10a13 13 0 0 1 .4 1.4 6.6 6.6 0 0 0-1.5-1.4 8.6 8.6 0 0 0 1-.1zm-2.8-4.3a5 5 0 0 1 .5.4l-1.5-.6zm24-39a1.4 1.4 0 0 1-1.4-.8h.1a1.1 1.1 0 0 0 .3-.6.9.9 0 0 0 0-.3.7.7 0 0 0 .2-.2.9.9 0 0 0 0-1 1 1 0 0 0 .7-.3 1.1 1.1 0 0 0 .2-.4l.5-.2a2.3 2.3 0 0 0-.6 1 .7.7 0 0 0 .7.9 1 1 0 0 0 .1 1 1 1 0 0 0 1.2.2 1.4 1.4 0 0 0 .3-.1l.2-.1.3-.2a1 1 0 0 0 .5.5 18.8 18.8 0 0 1-3.2.5zm4.5-4a2.4 2.4 0 0 1-.1.3v.1a1.1 1.1 0 0 0 0 .2 1 1 0 0 0-.2-.4l.5-.4a.9.9 0 0 0-.2.2zm1.3-.5a1 1 0 0 0-.3.1 1 1 0 0 0-.5 0l1-.5zm4.8-6.8l-.1-.1a1 1 0 0 0-.8-.5 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .5.8v.1a1 1 0 1 0 1.4-1.3z' }))))(Ct(), (e) => { const t = e.color; const n = e.theme; return t || (n === $ ? U : Y); }); function At() { const e = Object(F.a)(['\n  display: none;\n  width: 40vw;\n  margin-left: 2rem;\n\n  @media (min-width: ', ') {\n    display: ', ';\n  }\n']); return At = function () { return e; }, e; } function Pt() { const e = Object(F.a)(['\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n\n  @media (min-width: ', ') {\n    width: ', ';\n  }\n']); return Pt = function () { return e; }, e; } function Ft() { const e = Object(F.a)(['\n  display: inline-block;\n  width: 8rem;\n']); return Ft = function () { return e; }, e; } function Ht() { const e = Object(F.a)(['\n  font-size: 1.8rem;\n  font-family: "Permanent Marker", cursive;\n  color: ', ';\n\n  @media (min-width: ', ') {\n    font-size: 3rem;\n  }\n']); return Ht = function () { return e; }, e; } function _t() { const e = Object(F.a)(['\n  width: 100%;\n  height: 5rem;\n\n  @media (min-width: ', ') {\n    height: 8rem;\n  }\n\n  @media (min-width: ', ') {\n    height: 16rem;\n  }\n']); return _t = function () { return e; }, e; } function It() { const e = Object(F.a)(['\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n  padding-right: 1rem;\n  text-align: center;\n\n  @media (min-width: ', ') {\n    padding-top: 1rem;\n    padding-bottom: 2rem;\n  }\n']); return It = function () { return e; }, e; } function Gt() { const e = Object(F.a)(['\n  position: relative;\n  height: 100%;\n  width: 100%;\n  background: ', ';\n  background: ', ';\n']); return Gt = function () { return e; }, e; } let Bt; const Nt = Object(H.a)('div')(Gt(), (e) => (e.theme === $ ? Y : 'transparent'), (e) => (e.theme === $ ? 'linear-gradient(30deg,hsl(280, 94%, 16%) 30%,hsl(269,99%,30%) 100%)' : 'transparent')); const Dt = Object(H.a)('div')({
      display: 'flex', justifyContent: 'space-between', width: '100%', height: '100%',
    }); const Wt = Object(H.a)('div')((e) => ({
      paddingLeft: '2rem', paddingTop: '1rem', fontSize: '3.5rem', fontFamily: "'Permanent Marker', cursive", textAlign: 'center', color: e.theme === $ ? X : V, letterSpacing: '.3rem',
    })); const Xt = Object(H.a)('div')(It(), Q); const Vt = Object(H.a)('div')(_t(), J, Q); const Yt = Object(H.a)('div')(Ht(), (e) => (e.theme === $ ? X : V), Q); const Ut = Object(H.a)('span')(Ft()); const Kt = Object(H.a)('div')(Pt(), q, (e) => (e.hideScoreboard ? '100%' : '60vw')); const qt = Object(H.a)('div')(At(), q, (e) => (e.hide ? 'none' : 'block')); const Jt = (function (e) {
      function t() { return Object(R.a)(this, t), Object(M.a)(this, Object(A.a)(t).apply(this, arguments)); } return Object(P.a)(t, e), Object(L.a)(t, [{ key: 'componentDidMount', value() { const e = this.props.options; e.boardTheme && this.props.toggleTheme(e.boardTheme), e.game && e.engine ? (this.hideLogo = e.hideLogo === 'true', this.hideScoreboard = e.hideScoreboard === 'true', this.title = e.title && decodeURIComponent(e.title), this.props.setGameOptions(e), this.props.fetchFrames()) : this.invalidArgs = !0; } }, { key: 'render', value() { const e = this.props.currentFrame; return this.invalidArgs ? a.a.createElement(_, null) : e ? this.renderGame() : a.a.createElement(te, null); } }, {
        key: 'renderGame',
        value() {
          const e = this.props; const t = e.currentFrame; const n = e.options; return a.a.createElement(Nt, { theme: this.props.theme }, a.a.createElement(Dt, null, a.a.createElement(Kt, { hideScoreboard: this.hideScoreboard }, a.a.createElement(Wt, { theme: this.props.theme }, this.title), a.a.createElement(xe, {
            snakes: t.snakes, food: t.food, columns: this.props.grid.width, rows: this.props.grid.height, highlightedSnake: this.props.highlightedSnake, theme: this.props.theme,
          }), a.a.createElement(zt, {
            currentFrame: t, hideControls: n.hideMediaControls === 'true', toggleTheme: this.props.toggleTheme, reloadGame: this.props.reloadGame, toggleGamePause: this.props.toggleGamePause, stepBackwardFrame: this.props.stepBackwardFrame, stepForwardFrame: this.props.stepForwardFrame, paused: this.props.paused, theme: this.props.theme,
          })), !this.hideScoreboard && a.a.createElement(qt, null, a.a.createElement(Xt, null, !this.hideLogo && a.a.createElement(Vt, null, a.a.createElement(Mt, { theme: this.props.theme })), a.a.createElement(Yt, { theme: this.props.theme }, 'Turn: ', a.a.createElement(Ut, null, t.turn))), a.a.createElement(mt, {
            turn: t.turn, snakes: t.snakes, food: t.food, highlightSnake: this.props.highlightSnake, theme: this.props.theme,
          }))));
        },
      }]), t;
    }(a.a.Component)); const Qt = function (e) { return { type: 'SET_THEME', theme: e }; }; const $t = function (e, t) { return { type: 'RECEIVE_FRAME', game: e, frame: t }; }; const Zt = function (e) { return { type: 'SET_CURRENT_FRAME', frame: e }; }; const en = function e(t) { return (function () { const n = Object(Te.a)(Se.a.mark(function n(r, a) { let i; let o; let c; let l; let u; let s; let d; let h; let p; let m; let f; let v; let g; return Se.a.wrap((n) => { for (;;) switch (n.prev = n.next) { case 0: i = a().gameOptions.frameRate, o = a().frames.slice(), c = o.indexOf(t), l = o.slice(c), u = Math.ceil(i || 20), s = 1e3 / u, d = !0, h = !1, p = void 0, n.prev = 9, m = l[Symbol.iterator](); case 11: if (d = (f = m.next()).done) { n.next = 21; break; } if (v = f.value, !a().paused) { n.next = 15; break; } return n.abrupt('return'); case 15: return r(Zt(v)), n.next = 18, Ge(s); case 18: d = !0, n.next = 11; break; case 21: n.next = 27; break; case 23: n.prev = 23, n.t0 = n.catch(9), h = !0, p = n.t0; case 27: n.prev = 27, n.prev = 28, d || m.return == null || m.return(); case 30: if (n.prev = 30, !h) { n.next = 33; break; } throw p; case 33: return n.finish(30); case 34: return n.finish(27); case 35: (g = l[l.length - 1]).gameOver ? a().paused || r({ type: 'GAME_OVER' }) : r(e(g)); case 37: case 'end': return n.stop(); } }, n, null, [[9, 23, 27, 35], [28,, 30, 34]]); })); return function (e, t) { return n.apply(this, arguments); }; }()); }; const tn = (Bt = window.location.search) && Bt.length ? Bt.substr(1).split('&').map(S).reduce((e, t) => (e[t.key] = t.value, e), {}) : {}; const nn = Object(c.b)((e) => ({
      options: tn, grid: e.grid, paused: e.paused, currentFrame: e.currentFrame, frames: e.frames, highlightedSnake: e.highlightedSnake, theme: e.theme,
    }), (e) => ({
      setGameOptions(t) { return e({ type: 'SET_GAME_OPTIONS', gameOptions: t }); }, fetchFrames() { return e(function () { const e = Object(Te.a)(Se.a.mark(function e(t, n) { let r; let a; let i; let o; let c; let l; let u; return Se.a.wrap((e) => { for (;;) switch (e.prev = e.next) { case 0: return r = n().gameOptions, a = r.autoplay, i = r.engine, o = r.game, c = r.turn, t({ type: 'REQUEST_FRAMES' }), e.next = 4, Qe(i, o, (e, r) => { if (r.Turn = r.Turn || 0, t($t(e, r)), r.Turn === 0) { const a = n().frames[0]; t(Zt(a)); } }); case 4: a && (l = n().frames[0], t({ type: 'RESUME_GAME' }), t(en(l))), c && c <= n().frames.length && (u = n().frames[c], t(Zt(u))); case 6: case 'end': return e.stop(); } }, e); })); return function (t, n) { return e.apply(this, arguments); }; }()); }, toggleTheme() { return e(function () { const e = Object(Te.a)(Se.a.mark(function e(n, r) { let a; let i; return Se.a.wrap((e) => { for (;;) switch (e.prev = e.next) { case 0: a = r(), i = a.theme, n(Qt(t || i === $ ? Z : $)); case 2: case 'end': return e.stop(); } }, e); })); return function (t, n) { return e.apply(this, arguments); }; }()); let t; }, reloadGame() { return e(function () { const e = Object(Te.a)(Se.a.mark(function e(t, n) { let r; let a; let i; return Se.a.wrap((e) => { for (;;) switch (e.prev = e.next) { case 0: r = n(), a = r.frames, r.paused && (i = Ze(a, 0), t(Zt(i))); case 2: case 'end': return e.stop(); } }, e); })); return function (t, n) { return e.apply(this, arguments); }; }()); }, toggleGamePause(t) { return e(function () { const e = Object(Te.a)(Se.a.mark(function e(t, n) { let r; let a; return Se.a.wrap((e) => { for (;;) switch (e.prev = e.next) { case 0: r = n(), a = r.currentFrame, r.paused ? (t({ type: 'RESUME_GAME' }), t(en(a))) : t({ type: 'PAUSE_GAME' }); case 2: case 'end': return e.stop(); } }, e); })); return function (t, n) { return e.apply(this, arguments); }; }()); }, stepForwardFrame() { return e(function () { const e = Object(Te.a)(Se.a.mark(function e(t, n) { let r; let a; let i; let o; let c; return Se.a.wrap((e) => { for (;;) switch (e.prev = e.next) { case 0: r = n(), a = r.currentFrame, i = r.frames, o = a.turn + 1, (c = Ze(i, o)) && t(Zt(c)); case 4: case 'end': return e.stop(); } }, e); })); return function (t, n) { return e.apply(this, arguments); }; }()); }, stepBackwardFrame() { return e(function () { const e = Object(Te.a)(Se.a.mark(function e(t, n) { let r; let a; let i; let o; let c; return Se.a.wrap((e) => { for (;;) switch (e.prev = e.next) { case 0: r = n(), a = r.currentFrame, i = r.frames, o = a.turn - 1, (c = Ze(i, o)) && t(Zt(c)); case 4: case 'end': return e.stop(); } }, e); })); return function (t, n) { return e.apply(this, arguments); }; }()); }, highlightSnake(t) { return e(function (e) { return { type: 'HIGHLIGHT_SNAKE', snakeId: e }; }(t)); },
    }))(Jt); const rn = n(26); const an = {
      options: null, grid: [], frames: [], paused: !0, highlightedSnake: null, theme: Z,
    }; const on = Object(o.a)(rn.a); const cn = Object(o.c)(function () { const e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; const t = arguments.length > 1 ? arguments[1] : void 0; switch (t.type) { case 'SET_THEME': return Object(u.a)({}, e, { theme: t.theme }); case 'SET_GAME_OPTIONS': return t.gameOptions.autoplay = t.gameOptions.autoplay && t.gameOptions.autoplay === 'true', t.gameOptions.turn = parseInt(t.gameOptions.turn) || 0, Object(u.a)({}, e, { gameOptions: t.gameOptions }); case 'PAUSE_GAME': case 'GAME_OVER': return Object(u.a)({}, e, { paused: !0 }); case 'RESUME_GAME': return Object(u.a)({}, e, { paused: !1 }); case 'SET_CURRENT_FRAME': return j({ action: t.type, frame: g(t.frame) }), Object(u.a)({}, e, { currentFrame: t.frame }); case 'RECEIVE_FRAME': var n = v(t.frame); return Object(u.a)({}, e, { grid: { height: t.game.Game.Height, width: t.game.Game.Width }, frames: [].concat(Object(l.a)(e.frames), [n]) }); case 'REQUEST_FRAMES': case 'FETCH_FRAMES': return Object(u.a)({}, e); case 'HIGHLIGHT_SNAKE': return j({ action: t.type, id: t.snakeId, name: t.snakeId ? e.currentFrame.snakes.find((e) => e._id === t.snakeId).name : null }), Object(u.a)({}, e, { highlightedSnake: t.snakeId }); default: return Object(u.a)({}, e); } }, an, on); Object(i.render)(a.a.createElement(c.a, { store: cn }, a.a.createElement(nn, null)), document.getElementById('root'));
  },
}, [[27, 1, 2]]]);
// # sourceMappingURL=main.972aa7c2.chunk.js.map
